each andriod applicatin has its own unique id and processar 
and one app never interact with the any of the application.
to enter the mobile using the genny motion 
we can connect with the ip of the mobile device. then enter the shell of the mobile.
we can see the all the logs inside the shell of the mobile. 
and there is folder inside data/data to see the all the apps inside the mobile and data/app to see all the apk files inside the mobile. 
we can pull and push the apk file to the desktop and to the mobile device using the pull and push command
we can unzip the apk file but we can not see the any manifest file to read the all the sevices permissions of the apk file.
but there is two ways we can decompile the android app using the tools apk and jdx file 
simpple we can decompile the app using the apk tool and read all the manifest.xml file and all mali files source code
but to use the jdx first install in it device and there will be bin folder will create after install. we have to move the apk file inside of it and then decompile it to read all the java source code file.
in order to read the .dex files which are the main reason to run the app at the os level there are three tools we can use. dexdump tool will give you the all the files in plain text format or the xml format.
there is a hexdump tool which will give the data in hex format which is hard to read.
o10 editor tool will read the all the dex files its gui tool.
and the last one dex2jar tool
it will convert the .dex file into the java archive file
jd-gui and enter the name of the jar file to see all the classes in the gui format.

to intercept the burp first in burp proxy keep all interface and 8080
and go to the mobile and chanhge the manual proxy give the ip as the laptop ip and same port 8080
download the burp ceertificte inside of the mobile and rename it going to the shell from .der to .crt

go to settings and install the renamed certificate from the sd card into the phone from the download folder. 

insecure logging:
if you go inside the app of apk after decompile there is log file inside you can see the source code of the logfile.class which will store the logs into the android mobile logs.
we can grep the logs of the specific app using the adb shell ps | grep <app name>
then using the process id of the app we can furthur narrow down the results of the app

hardcode issues:
hard code isssue go to the decopile of the dex file and read the hard coded passwords and token inside of the class file. 

insecure data storage:
shared praferances 
databases
temporary files 
external storage 
you can find the source code the application stores the data in the shared praferance folder inside of the mobile
go to the data/data of the mobile and find the package name you can see all the files names inside of the package. you can find the xml file inside of the shared prefarance folder without the encryption.

Database insecure storage:
same just go to the source code and check how the app storing the data into the databse. then go to the app package and database folder. enter sqllite3 <dbname> and enter inside the database selct all the data from the tables. enter .tables to enter the tables of the database.

temporary file storage:
inside of the app folder

external storage:
app stores the data inside of the sd card
there is a hidden files to see it enter ls -a

sql injection;
common to intercept with the burp

Abusing Web View in Android: (path travarsal)
Application input filed view the syste internal files of the applicatin when proper input validation is not in place. fetch the inside of the file ex; file://mtn/sdcard/file.txt.

Access Control Issues:
we can invoke any activity of the app without login to the app. go to the manifest file and find the activity nama and where it was hosted ex: intent filter 
copy the activity path and open the adb shell am -a <activity path>
you can invoke the path without the logging into the app

Authentication Based Access Control Issues:
in case we need to pass any parameter to by pass access cntrol get the parameter value from the source code and pass it in command

Leaking Content Provider:
Apps -> content provider -> db/files   --to get the data all apps interact with content provider

*find the content provide the URI
then query the data
find the content provider inside of the manifest.xml file and then go to the classes of the application.
find the query of the content provider use the following commond
adb shell content query --uri <content provider uri>

Hardcoding Issues Using JNI:

DOS Attack in Android:
in input give large number of the data so that app will hang and you can see it in the logs of the app

Insecure Bank:

API Hooking:

Apps communicating the database using the APIs. if we can hook the vulnerable app that will hook the api communication between the app and db.
vulnerable tools:
java debugger
introspy
cydia
Andbug
Etc.
Andbug can be used to identify the classes and methods of the application. 
if you hook any method you can see all the data

JDB Java Debugger:
similar to the and bug
but we can hit one method as a break point and from 
once we do any transaction. from here we can change the parameters and pass valuues to the server.

Drozer Security Framework:

once you install the drozer in the mobile phone
it will acts as metasploit and list out all the apps names
all the apps which are debuggable
if the app debuggable it will show all the exported methods and content providers
it will list out all the methods and all the information of the total android apps 

certificate pinning:
Android application has certificate hash will compare the server side hash value. so if we intercept the request with the burp the cerificae hash value will change then the MITM attack will not possible. while develop the app developers will pin the certificate to prevent mitm attack.

vysor we need to install while connect the mobile in the chrome browser

xposedframework to bypass the cerificate pinning (APK files) -- install in the device(xposed installer)
->install->remember for choice(it will work on the rooted device) make sure just trust me enabled

we can't install any app if it rooted. app will check before we install any app.
in non rooted devices we can't access the data and app folder and not install third party apps.

xpose installer->modules->install root clock app<apk> and enable module

we can do it using the repacking, frida as well

start the root clock and add the package names and add root check 

other way: decompile the package using the apk tool and change the is rooted method true by changing the value 0x1 to oxo. and re package using the apk tool. now open the jadex tool and you will see the is rooted method false. 



